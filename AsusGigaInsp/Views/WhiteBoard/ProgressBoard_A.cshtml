@model AsusGigaInsp.Models.ProgressBoardModels
@{
    ViewBag.Title = "進捗ボード";
}
<!DOCTYPE html>
<head>
    <meta http-equiv="Content-Language" content="ja">
    <meta name="google" content="notranslate">
    <meta http-equiv="Refresh" content="30;../WhiteBoard/WhiteBoard_A">
    <link href="~/Content/ProgressBoard.css" rel="stylesheet" />
</head>
@Html.ValidationSummary()
@using (Html.BeginForm())
{
    <h2>
        <u>ASUS新品検品　進捗管理ボード</u>
        <span class="small text-muted"id="view_today"></span>
    </h2>
    <!-- ここから検索結果 ------------------------------------------------------------------>
    <table class="table table-sm">
        <thead class="thead-light">
            @if (Model.SrchRstDisplayTime != null)
            {
                foreach (var item in Model.SrchRstDisplayTime)
                {
                    <tr>
                        <th></th>
                        <th></th>
                        <th style="border-left:2px solid; border-color:black;">@Html.DisplayFor(modelItem => item.Period01)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period02)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period03)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period04)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period05)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period06)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period07)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period08)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period09)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period10)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period11)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period12)</th>
                        <th>@Html.DisplayFor(modelItem => item.Period13)</th>
                    </tr>
                }
            }
        </thead>
        <tbody>
            @if (Model.SrchRstProgressBoard != null)
            {
                foreach (var item in Model.SrchRstProgressBoard)
                {
                    string StrClass = null;
                    string StrStyle = null;
                    <tr>
                        @if (item.Division == "計画")
                        {
                            StrClass = "table-default";
                        }
                        else if (item.Division == "実績")
                        {
                            StrClass = "table-success";
                        }
                        else
                        {
                            StrClass = "table-warning";
                            StrStyle = "border-bottom: 2px solid black;";
                            if (item.LineName == "合計")
                            {
                                StrStyle = "border-bottom: 5px double black;";
                            }
                        }
                        <td class="@StrClass" style="@StrStyle; text-align: left">@Html.DisplayFor(modelItem => item.LineName)</td>
                        <td class="@StrClass" style="@StrStyle; text-align: center">@Html.DisplayFor(modelItem => item.Division)</td>
                        @if (int.Parse(item.Period01) < 0)
                        {
                            <td class="@StrClass" style="@StrStyle; border-left: 2px solid black; color: red;">@Html.DisplayFor(modelItem => item.Period01)</td>
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle; border-left: 2px solid">@Html.DisplayFor(modelItem => item.Period01)</td>
                        }
                        @if (item.Period02 != null)
                        {
                            if (int.Parse(item.Period02) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red;">@Html.DisplayFor(modelItem => item.Period02)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period02)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period02)</td>
                        }
                        @if (item.Period03 != null)
                        {
                            if (int.Parse(item.Period03) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period03)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period03)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period03)</td>
                        }
                        @if (item.Period04 != null)
                        {
                            if (int.Parse(item.Period04) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period04)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period04)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period04)</td>
                        }
                        @if (item.Period05 != null)
                        {
                            if (int.Parse(item.Period05) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period05)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period05)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period05)</td>
                        }
                        @if (item.Period06 != null)
                        {
                            if (int.Parse(item.Period06) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period06)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period06)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period06)</td>
                        }
                        @if (item.Period07 != null)
                        {
                            if (int.Parse(item.Period07) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period07)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period07)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period07)</td>
                        }
                        @if (item.Period08 != null)
                        {
                            if (int.Parse(item.Period08) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period08)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period08)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period08)</td>
                        }
                        @if (item.Period09 != null)
                        {
                            if (int.Parse(item.Period09) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period09)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period09)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period09)</td>
                        }
                        @if (item.Period10 != null)
                        {
                            if (int.Parse(item.Period10) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period10)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period10)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period10)</td>
                        }
                        @if (item.Period11 != null)
                        {
                            if (int.Parse(item.Period11) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period11)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period11)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period11)</td>
                        }
                        @if (item.Period12 != null)
                        {
                            if (int.Parse(item.Period12) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period12)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period12)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period12)</td>
                        }
                        @if (item.Period13 != null)
                        {
                            if (int.Parse(item.Period13) < 0)
                            {
                                <td class="@StrClass" style="@StrStyle; color: red">@Html.DisplayFor(modelItem => item.Period13)</td>
                            }
                            else
                            {
                                <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period13)</td>
                            }
                        }
                        else
                        {
                            <td class="@StrClass" style="@StrStyle;">@Html.DisplayFor(modelItem => item.Period13)</td>
                        }
                    </tr>
                }
            }
        </tbody>
    </table>
}

<script type="text/javascript">
    document.getElementById("view_today").innerHTML = getToday();

    function getToday() {
        var now = new Date();
        var year = now.getFullYear();
        var mon = now.getMonth() + 1; //１を足すこと
        var day = now.getDate();
        var you = now.getDay(); //曜日(0～6=日～土)
        var hour = now.getHours();
        var min = now.getMinutes();
        var sec = now.getSeconds();

        //曜日の選択肢
        var youbi = new Array("日", "月", "火", "水", "木", "金", "土");
        //出力用
        var s = year + "年" + mon + "月" + day + "日 (" + youbi[you] + ")" + "　" + hour + "時" + min + "分" + sec + "秒";
        return s;
    }
</script>