@model AsusGigaInsp.Models.SOListModels
@{
    ViewBag.Title = "オーダー検索";
}
<!DOCTYPE html>
<link href="~/Content/SOList.css" rel="stylesheet" />

@Html.ValidationSummary()
@using (Html.BeginForm())
{
    <div class="form-row">
        <label for="SrchSONO" class="col-form-label-sm">SO#</label>
        @Html.TextBoxFor(model => model.SrchSONO, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "" })
        <label for="Srch90N" class="col-form-label-sm">90N</label>
        @Html.TextBoxFor(model => model.Srch90N, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "" })
        <label for="SrchModelName" class="col-form-label-sm">ModelName</label>
        @Html.TextBoxFor(model => model.SrchModelName, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "" })
        <label for="SrchN01NO" class="col-form-label-sm">N01#</label>
        @Html.TextBoxFor(model => model.SrchN01NO, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "" })
    </div>

    <div class="form-row">
        <label for="SrchEstArrivalDate_S" class="col-form-label-sm">ADS到着予定日</label>
        @Html.TextBoxFor(model => model.SrchEstArrivalDate_S, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "From" })
        <label for="SrchEstArrivalDate_E" class="col-form-label-sm">～</label>
        @Html.TextBoxFor(model => model.SrchEstArrivalDate_E, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "To" })
        <label for="SrchPrefReportingDate_S" class="col-form-label-sm">レポート提出希望日</label>
        @Html.TextBoxFor(model => model.SrchPrefReportingDate_S, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "From" })
        <label for="SrchPrefReportingDate_E" class="col-form-label-sm">～</label>
        @Html.TextBoxFor(model => model.SrchPrefReportingDate_E, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "To" })
    </div>

    <div class="form-row">
        <label for="SrchEstArrivalDate_S" class="col-form-label-sm">SI/TEK到着予定日</label>
        @Html.TextBoxFor(model => model.SrchSiTekEstArrivalDate_S, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "From" })
        <label for="SrchEstArrivalDate_E" class="col-form-label-sm">～</label>
        @Html.TextBoxFor(model => model.SrchSiTekEstArrivalDate_E, null, new { @class = "form-control form-control-sm", style = "max-width:150px;", placeholder = "To" })
        <label for="SrchStatusID" class="col-form-label-sm">ステータス</label>
        @Html.DropDownListFor(
            model => model.SrchStatusID, // プロパティ
            new SelectList(Model.DropDownListStatusName, "SOStatusID", "SOStatusName"),
            "",
            new { @class= "form-control form-control-sm", style="max-width:120px;" }
        )
    </div>

    <div style="float: left; margin-bottom:2px;">
        <input type="button" class="btn btn-danger btn" onclick="location.href='@Url.Action("SOListUpLoad", "SOList")'" value="オーダー情報取り込み" />
    </div>
    <div style="float: right; margin-bottom:2px;">
        <input type="submit" class="btn btn-primary btn" formaction="/SOList/SOListSearchResult" name="Search" value="検索">
        <input type="button" class="btn btn-primary btn" name="Clear" id="ClearBtn" value="クリア">
    </div>
    <!-- ここから検索結果 ------------------------------------------------------------------>
    <table class="table table-striped table-bordered table-sm table-hover">
        <thead class="thead-light">
            <tr>
                <th></th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().SONO)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().n90N)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().ModelName)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().ShippingQuantity)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().FixedShippingQuantity)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().EstArrivalDate)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().PrefReportingDate)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().SiTekEstArrivalDate)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().DeliveryLocation)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().CompleteWorkUnit)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().DOAUnit)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().N01NO)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().SOStatusName)</th>
                <th>@Html.DisplayNameFor(model => model.SrchRstOrderList.First().STChangeDate)</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.SrchRstOrderList != null)
            {
                foreach (var item in Model.SrchRstOrderList)
                {
            <tr>
                <!-- <td>
    <input type="submit" class="btn btn-primary btn-sm" name="SOListUpdateLink" formaction="/SOList/SOListUpdate?SOID=@(item.SOID)&Mode=Update" value="編集" />
    </td>-->
                <td>
                    <input type="button" class="btn btn-primary btn-sm" onclick="location.href='@Url.Action("Export", "SOList", new { SONO = item.SONO })'" value="レポート" />
                </td>
                <td>@Html.DisplayFor(modelItem => item.SONO)</td>
                <td>@Html.DisplayFor(modelItem => item.n90N)</td>
                <td>@Html.DisplayFor(modelItem => item.ModelName)</td>
                <td>@Html.DisplayFor(modelItem => item.ShippingQuantity)</td>
                <td>@Html.DisplayFor(modelItem => item.FixedShippingQuantity)</td>
                <td>@Html.DisplayFor(modelItem => item.EstArrivalDate)</td>
                <td>@Html.DisplayFor(modelItem => item.PrefReportingDate)</td>
                <td>@Html.DisplayFor(modelItem => item.SiTekEstArrivalDate)</td>
                <td>@Html.DisplayFor(modelItem => item.DeliveryLocation)</td>
                <td>@Html.DisplayFor(modelItem => item.CompleteWorkUnit)</td>
                <td>@Html.DisplayFor(modelItem => item.DOAUnit)</td>
                <td>@Html.DisplayFor(modelItem => item.N01NO)</td>
                <td>@Html.DisplayFor(modelItem => item.SOStatusName)</td>
                <td>@Html.DisplayFor(modelItem => item.STChangeDate)</td>
            </tr>
                }
            }
        </tbody>
    </table>
}

<script type="text/javascript">
    // クリアボタンクリック処理
    $("#ClearBtn").on("click", function ()
    {
        clearForm(this.form);
    });
</script>